var menu = Ti.UI.createWindow({
	backgroundColor: "#d92332"
});

var newButton = Ti.UI.createButton({
	top: 20,
	left: 2,
	width: 105,
	height: 50,
	title: "New Releases",
	textAlign: "center",
	color: "white",
	font: {fontFamily: "Verdana", fontWeight: "bold", fontSize: 12},
	backgroundColor: "#d92332",
	border: 2,
	borderColor: "white",
});

var suggestButton = Ti.UI.createLabel({
	top: 20,
	left: 105,
	width: 105,
	textAlign: "center",
	height: 50,
	text: "Suggested",
	color: "#d92332",
	font: {fontFamily: "Verdana", fontWeight: "bold", fontSize: 12},
	backgroundColor: "white",
});

var myPicksButton = Ti.UI.createButton({
	top: 20,
	left: 210,
	width: 105,
	textAlign: "center",
	height: 50,
	title: "My Picks",
	color: "white",
	font: {fontFamily: "Verdana", fontWeight: "bold", fontSize: 12},
	backgroundColor: "#d92332",
	border: 2,
	borderColor: "white",
});

var universal = [
	{title: "Rip Ride Rockit", description: "A high speed rollercoaster with a music them.  Guests can pick a song from a preselected group of genres before riding the ride.  Also has the world's largest non-inverted loop. "}, 
	{title: "Twister: Ride It Out", description: "Guests step onto a live sound stage as they experience the sounds, sights and feelings of a real life tornado."},
	{title: "Disaster", description: "Guests are cast as extras for Mr. Kincaid's next big disaster movie, 'Mutha Nature'.  Climb aboard a subway train and prepare to sit through a. 8.0 earthquake deep below the heart of downtown Los Angeles."},
	{title: "Men in Black: Alien Attack", description: "Alright recruits, suit up.  Aliens have crash landed in the heart of Manhatten and it's up to you to clean up the mess.  Aim for the thermal exhaust ports!'"}
];

var islands = [
	{title: "The Incredible Spiderman", description: "Calling all true believers...Spiderman needs your help to stop Dr. Octopus and his Sinsiter Syndicate from stealing the Statue of Liberty.  Hop in the Daily Bugle's Scoop vehicle and help your friendly neighborhood Spiderman before it's too late."},
 	{title: "Jurassic Park River Adventure", description: "Take a relaxing ride through the river at Jurassic Park and become immersed in the prehistoric scenery and wildlife on this guided tour.  Don't worry.  The raptors are safely locked away in containment."}, 
 	{title: "Harry Potter and the Forbidden Journey", description: "Will always have a spot for me.  Uncle Bernie"}, 
 	{title: "Cat in the Hat", description: "Hop aboard your couch and ride with the Cat in the Hat himself through this beloved story"}
 ];


// Table View
var parks = Ti.UI.createTableView({
	top: 55
});

if(Ti.Platform.name === "iPhone OS"){
	parks.style = Ti.UI.iPhone.TableViewStyle.GROUPED;
}

// Table View Section
var universalSection = Ti.UI.createTableViewSection({
	headerTitle: "Universal Studios",
	footerTitle: "Ride the Rides!"
});

var islandsSection = Ti.UI.createTableViewSection({
	headerTitle: "Islands of Adventure",
	footerTitle: "A Lifetime of Adventure"
});

var getDetail = function(){
	var detailWindow = Ti.UI.createWindow({
		backgroundColor: "#f5f5f5",
		top: 55
	});
	
	var detailTitleView = Ti.UI.createView({
		height: 65,
		backgroundColor: "#fff",
		top: 0
	});
	
	var detailBorder = Ti.UI.createView({
		backgroundColor: "#dbdbdb",
		height: 1,
		top: detailTitleView.height + detailTitleView.top
	});
	
	var detailTitleLabel = Ti.UI.createLabel({
		text: this.title,
		font: {fontSize: 20, fontFamily: "Arial", fontWeight: "bold"},
		top: 30,
		width: "100%", 
		textAlign: "center"
	});
	
	var detailText = Ti.UI.createLabel({
		text: this.desc,
		font: {fontSize: 14, fontFamily: "Arial"},
		top : detailBorder.height + detailBorder.top + 40,
		left: 10,
		right: 10
	});
	
	var closeButton = Ti.UI.createLabel({
		backgroundColor: "#333",
		text: " Close Window",
		color: "#fff",
		height: 50,
		font: {fontSize: 12, fontFamily: "Arial"},
		width: "100%",
		bottom: 0,
		textAlign: "center",
		});

	var closeWindow = function(){
		detailWindow.close({transition: Ti.UI.iPhone.AnimationStyle.FLIP_FROM_LEFT});
	};

	closeButton.addEventListener("click", closeWindow);

	detailTitleView.add(detailTitleLabel);
	detailWindow.add(detailTitleView, detailBorder, detailText, closeButton);
	
	detailWindow.open({transition: Ti.UI.iPhone.AnimationStyle.FLIP_FROM_LEFT});

};

for(var i=0, j=universal.length; i<j; i++){
	var tableRow = Ti.UI.createTableViewRow({
		title: universal[i].title,
		desc: universal[i].description,
		hasDetail:true
	});
	universalSection.add(tableRow);
	tableRow.addEventListener("click", getDetail);
} 

for(var i=0, j=islands.length; i<j; i++){
	var tableRow = Ti.UI.createTableViewRow({
		title: islands[i].title,
		desc: islands[i].description,
		hasDetail: true
	});
	
	if(Ti.Platform.name === "iPhone OS"){
		tableRow.hasChild = false;
		tableRow.hasDetail = true;
	}
 
	islandsSection.add(tableRow);
	tableRow.addEventListener("click", getDetail);
};

var parksSections = [universalSection, islandsSection];

parks.setData(parksSections);


menu.add(newButton, suggestButton, myPicksButton, parks);
menu.open();
